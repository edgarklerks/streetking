* "Contents":index.html
* "Index":doc-index.html

 

Safe Haskell

None

Lua.Monad

Synopsis

<ul>
<li>"runLua":#v:runLua :: "LuaMonad":Lua-Monad.html#t:LuaMonad a -&gt; IO (Either String a)</li>
<li>"runLuaMonad":#v:runLuaMonad :: "LuaState":Lua-Prim.html#t:LuaState -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad a -&gt; IO (Either String a)</li>
<li>"runLuaMonad'":#v:runLuaMonad-39- :: "LuaState":Lua-Prim.html#t:LuaState -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad a -&gt; IO (Either String a)</li>
<li>"loadLib":#v:loadLib :: FilePath -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad ()</li>
<li>"eval":#v:eval :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad Int</li>
<li>data "LuaValue":#t:LuaValue
<ul>
<li>= "LuaObj":#v:LuaObj [("LuaValue":Lua-Monad.html#t:LuaValue, "LuaValue":Lua-Monad.html#t:LuaValue)]</li>
<li>&#124; "LuaNum":#v:LuaNum !Double</li>
<li>&#124; "LuaString":#v:LuaString !String</li>
<li>&#124; "LuaBool":#v:LuaBool !Bool</li>
<li>&#124; "LuaNil":#v:LuaNil</li>
<li>&#124; "LuaNone":#v:LuaNone</li>
<li>&#124; "LuaError":#v:LuaError !String</li>
</ul>
</li>
<li>newtype "LuaMonad":#t:LuaMonad a = "LR":#v:LR {
<ul>
<li>"unLR":#v:unLR :: ReaderT "LuaState":Lua-Prim.html#t:LuaState (ErrorT String IO) a</li>
</ul>

}</li>
<li>"registerhsfunction":#v:registerhsfunction :: LuaImport a =&gt; String -&gt; a -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad ()</li>
<li>"loadLuaValue":#v:loadLuaValue :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad (Maybe "LuaValue":Lua-Monad.html#t:LuaValue)</li>
<li>"saveLuaValue":#v:saveLuaValue :: String -&gt; "LuaValue":Lua-Monad.html#t:LuaValue -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad ()</li>
<li>"getValue":#v:getValue :: StackValue a =&gt; String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad a</li>
<li>"getInt":#v:getInt :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad Int</li>
<li>"getString":#v:getString :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad String</li>
<li>"getBool":#v:getBool :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad Bool</li>
<li>"getLuaValue":#v:getLuaValue :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad "LuaValue":Lua-Monad.html#t:LuaValue</li>
<li>"getDouble":#v:getDouble :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad Double</li>
<li>"getType":#v:getType :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad "LuaType":Lua-Prim.html#t:LuaType</li>
<li>"valToLua":#v:valToLua :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad "LuaValue":Lua-Monad.html#t:LuaValue</li>
<li>"tableToLua":#v:tableToLua :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad "LuaValue":Lua-Monad.html#t:LuaValue</li>
<li>"pushLuaValue":#v:pushLuaValue :: "LuaValue":Lua-Monad.html#t:LuaValue -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad ()</li>
<li>"loadIntoTable":#v:loadIntoTable :: LuaState -&gt; ("LuaValue":Lua-Monad.html#t:LuaValue, "LuaValue":Lua-Monad.html#t:LuaValue) -&gt; IO ()</li>
<li>"push":#v:push :: StackValue a =&gt; a -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad ()</li>
<li>"peek":#v:peek :: StackValue a =&gt; Int -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad a</li>
<li>"pop":#v:pop :: Int -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad ()</li>
<li>"loadfile":#v:loadfile :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad Int</li>
<li>"call":#v:call :: Int -&gt; Int -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad Int</li>
<li>"tostring":#v:tostring :: Int -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad String</li>
<li>"pushnil":#v:pushnil :: "LuaMonad":Lua-Monad.html#t:LuaMonad ()</li>
<li>"ltype":#v:ltype :: Int -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad "LuaType":Lua-Prim.html#t:LuaType</li>
<li>"getglobal":#v:getglobal :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad ()</li>
<li>"next":#v:next :: Int -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad Bool</li>
<li>"newstate":#v:newstate :: IO LuaState</li>
</ul>

h1. Documentation

runLua :: "LuaMonad":Lua-Monad.html#t:LuaMonad a -&gt; IO (Either String a)

Evaluate a Lua monad in the IO monad

runLuaMonad :: "LuaState":Lua-Prim.html#t:LuaState -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad a -&gt; IO (Either String a)

Run the lua monad with closing the state

runLuaMonad' :: "LuaState":Lua-Prim.html#t:LuaState -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad a -&gt; IO (Either String a)

Run the Lua monad without closing the state

loadLib :: FilePath -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad ()

Load a library into the interpreter

eval :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad Int

Evaluate some lua code

data LuaValue

Constructors


|LuaObj [("LuaValue":Lua-Monad.html#t:LuaValue, "LuaValue":Lua-Monad.html#t:LuaValue)]| |
|LuaNum !Double| |
|LuaString !String| |
|LuaBool !Bool| |
|LuaNil| |
|LuaNone| |
|LuaError !String| |


Instances


|Eq "LuaValue":Lua-Monad.html#t:LuaValue| |
|Data "LuaValue":Lua-Monad.html#t:LuaValue| |
|Num "LuaValue":Lua-Monad.html#t:LuaValue| |
|Ord "LuaValue":Lua-Monad.html#t:LuaValue| |
|Read "LuaValue":Lua-Monad.html#t:LuaValue| |
|Show "LuaValue":Lua-Monad.html#t:LuaValue| |
|Typeable "LuaValue":Lua-Monad.html#t:LuaValue| |
|IsString "LuaValue":Lua-Monad.html#t:LuaValue| |
|StackValue "LuaValue":Lua-Monad.html#t:LuaValue| |
|Convertible Double "LuaValue":Lua-Monad.html#t:LuaValue| |
|Convertible Integer "LuaValue":Lua-Monad.html#t:LuaValue| |
|Convertible Rational "LuaValue":Lua-Monad.html#t:LuaValue| |
|Convertible String "LuaValue":Lua-Monad.html#t:LuaValue| |
|Convertible "LuaValue":Lua-Monad.html#t:LuaValue Double| |
|Convertible "LuaValue":Lua-Monad.html#t:LuaValue Integer| |
|Convertible "LuaValue":Lua-Monad.html#t:LuaValue Rational| |
|Convertible "LuaValue":Lua-Monad.html#t:LuaValue String| |
|Convertible "LuaValue":Lua-Monad.html#t:LuaValue "LuaValue":Lua-Monad.html#t:LuaValue| |
|(Typeable a, Convertible "LuaValue":Lua-Monad.html#t:LuaValue a) =&gt; Convertible "LuaValue":Lua-Monad.html#t:LuaValue [(String, a)]| |
|(Typeable a, Convertible a "LuaValue":Lua-Monad.html#t:LuaValue) =&gt; Convertible [(String, a)] "LuaValue":Lua-Monad.html#t:LuaValue| |


newtype LuaMonad a

The lua monad keeps the current LuaState and offers error handling through @ErrorT@. It also has access to the IO Monad

Constructors

LR

 

Fields

<dl>
<dt>unLR :: ReaderT "LuaState":Lua-Prim.html#t:LuaState (ErrorT String IO) a</dt>
<dd> </dd>
</dl>

Instances


|Monad "LuaMonad":Lua-Monad.html#t:LuaMonad| |
|Functor "LuaMonad":Lua-Monad.html#t:LuaMonad| |
|Applicative "LuaMonad":Lua-Monad.html#t:LuaMonad| |
|MonadIO "LuaMonad":Lua-Monad.html#t:LuaMonad| |
|MonadReader "LuaState":Lua-Prim.html#t:LuaState "LuaMonad":Lua-Monad.html#t:LuaMonad| |
|MonadError String "LuaMonad":Lua-Monad.html#t:LuaMonad| |


registerhsfunction :: LuaImport a =&gt; String -&gt; a -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad ()

Register a haskell function in lua

loadLuaValue :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad (Maybe "LuaValue":Lua-Monad.html#t:LuaValue)

Get global variable value

saveLuaValue :: String -&gt; "LuaValue":Lua-Monad.html#t:LuaValue -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad ()

Save global variable value

getValue :: StackValue a =&gt; String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad a

Get the haskell value by name and pop it of the stack, omit type

getInt :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad Int

Get the int by name and pop it of the stack, omit type

getString :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad String

Get the string by name and pop it of the stack, omit type

getBool :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad Bool

Get the boolean by name and pop it of the stack, omit type

getLuaValue :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad "LuaValue":Lua-Monad.html#t:LuaValue

Get a global value by name

getDouble :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad Double

Get the double by name and pop it of the stack, omit type

getType :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad "LuaType":Lua-Prim.html#t:LuaType

Get the type of a variable by name

valToLua :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad "LuaValue":Lua-Monad.html#t:LuaValue

Retrieve a value from the stack by name

tableToLua :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad "LuaValue":Lua-Monad.html#t:LuaValue

Retrieve a table by name from the stack

pushLuaValue :: "LuaValue":Lua-Monad.html#t:LuaValue -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad ()

Push value on stack

loadIntoTable :: LuaState -&gt; ("LuaValue":Lua-Monad.html#t:LuaValue, "LuaValue":Lua-Monad.html#t:LuaValue) -&gt; IO ()

Load a key value pair into a table

push :: StackValue a =&gt; a -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad ()

Push a value on the stack

peek :: StackValue a =&gt; Int -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad a

Peek nth item of the stack

pop :: Int -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad ()

Pop nth item of the stack

loadfile :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad Int

Load a file into lua

call :: Int -&gt; Int -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad Int

call a function

tostring :: Int -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad String

Convert to string

pushnil :: "LuaMonad":Lua-Monad.html#t:LuaMonad ()

Push nil on the stack

ltype :: Int -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad "LuaType":Lua-Prim.html#t:LuaType

Get the type of the value on the stack

getglobal :: String -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad ()

Retrieve a global by name

next :: Int -&gt; "LuaMonad":Lua-Monad.html#t:LuaMonad Bool

newstate :: IO LuaState

Create a new state

Produced by "Haddock":http://www.haskell.org/haddock/ version 2.11.0
